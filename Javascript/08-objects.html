<!DOCTYPE html>
<html>
    <head>
        <title> Chp 8: Objects </title>
    </head>
    <body>
  
        <strong>Exercise 1: Game Score Counts<br></strong><BR>
            <button onclick="
                playGame ('rock');"> Rock </button>
    
            <button onclick="
                playGame ('paper');"> Paper </button>
    
            <button onclick="
                playGame ('scissors');"> Scissors </button>

            <button onclick="
                score.wins = 0;
                score.losses = 0;
                score.ties = 0;
                localStorage.removeItem(score);
            "> Reset Score</button>
    

        <script>

            const score = 
                {wins: 0,
                losses: 0,
                ties: 0}
                JSON.parse(localStorage.getItem('score')) 
            ;

            function pickComputerMove () {
                const randomNumber = Math.random();
                
                let computerMove = '';

                if(randomNumber >=0 && randomNumber <1/3) {
                computermove = 'rock'
                } else if (randomNumber >=1/3 && randomNumber <2/3) {
                computermove = 'paper'
                } else if (randomNumber >=2/3 && randomNumber <1) {
                computermove = 'scissors'
                }
                
                return computerMove;
            }

            function playGame(playMove) {
                const computerMove = pickComputerMove();
                
                console.log(computermove);
                
                let result = ''

                if (playMove === 'scissors'){
                    if (computermove === 'rock') {
                    result = 'You Lose.';
                } else if (computermove === 'paper') {
                    result = 'You Win.';
                } else if (computermove = 'scissors') {
                    result = 'Tie.';
                }

                } else if (playMove === 'paper'){
                    if (computermove === 'rock') {
                    result = 'You Win.';
                } else if (computermove === 'paper') {
                    result = 'Tie.';
                } else if (computermove = 'scissors') {
                    result = 'You Lose.';
                }
    
                } else if (playMove === 'rock'){
                    if (computermove === 'rock') {
                        result = 'Tie.'
                    } else if (computermove === 'paper') {
                        result = 'You Lose.'
                    } else if (computermove = 'scissors') {
                        result = 'You Win.'
                    }
                }

                if (result === 'You Win.') {
                    score.wins += 1;
                } else if (result === 'You Lose.') {
                    score.losses += 1;
                } else if (result === 'Tie.') {
                    score.ties += 1;
                }

                localStorage.setItem('score', JSON.stringify(score));
    
                alert(`You picked ${playMove}. Computer picked ${computermove}. ${result} \n Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`) }

                console.log(score)
        </script>    

        <br><br><br><strong>Exercise 2: Create function to compares two products' price and 
                return the product which is less expensive.<br></strong><BR>

        <script>
             const product1 ={
                name: 'Nike',
                price: 200
            };

            const product2 ={
                name: 'Adidas',
                price: 270
            };
            
            function comparePrice (product1, product2) {
                product1.price > product2.price ? 
                console.log(`${product1.name}`) : 
                console.log(`${product2.name}`)
            }

            comparePrice(product1, product2)
        </script>

<br><strong><br><br>Exercise 3: Pro version Coin Flip Guessing Game<br></strong>
        <br> Guess what is the result of the coin flipped. Click on the buttons below.<br><br>

        <button onclick="
            pickGuess ('Heads');
        "> Heads </button>

        <button onclick="
            pickGuess ('Tails');
        "> Tails </button>

        <button onclick="
        marks.wins = 0;
        marks.losses = 0;
        localStorage.removeItem(marks);
        "> Reset Score</button>

        <script>

            const marks = JSON.parse (localStorage.getItem('marks'))|| {
                wins: 0,
                losses: 0
            };

            function opponentMove (){
            const randomNumber1 = Math.random();
            let opponentMove = randomNumber1<=0.5 ? 'Heads' : 'Tails';

            return opponentMove;
            }

            function pickGuess (pickMove){
                let opponentMove1 = opponentMove()
                let results=''
                pickMove === 'Heads' ? 
                    opponentMove1 === 'Heads' ? results='You Win.' : results='You Lose.' :
                    opponentMove1 === 'Tails' ? results='You Win.' : results='You Lose.';

                    if (results === 'You Win.') {
                    marks.wins += 1;
                } else if (results === 'You Lose.') {
                    marks.losses += 1;}

                    localStorage.setItem( 'marks', JSON.stringify(marks))

            alert(`Your guess: ${pickMove}. Coin rolled ${opponentMove1}. ${results} \n Wins: ${marks.wins}, Losses: ${marks.losses}`)}
        
        </script>


    </body>
</html>